â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ MIDDO - MÃ‰MO SESSION 20 - 15 NOVEMBRE 2025 ğŸš€
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“… Date : 15 Novembre 2025
â° DurÃ©e totale : ~2 heures de travail intense
ğŸ‘¨â€ğŸ’¼ Entrepreneur : Baudouin (MBANE LOKOTA)
ğŸ¯ Objectif session : SystÃ¨me de photos de profil complet

ğŸ‰ RÃ‰SULTAT : SESSION 20 EN COURS (80% COMPLÃ‰TÃ‰E !) ğŸ‰

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… ACCOMPLISSEMENTS SESSION 20 (15 NOV 2025)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

**PHASE 1 : PRÃ‰PARATION ENVIRONNEMENT (TERMINÃ‰E âœ…)**
- âœ… Dossier `public/uploads/profiles` crÃ©Ã© avec succÃ¨s
- âœ… PowerShell dans le bon rÃ©pertoire
- âœ… Environnement prÃªt pour la suite

**PHASE 2 : MODIFICATION ENTITÃ‰ USER (TERMINÃ‰E âœ…)**
- âœ… Champ `profilePicture` existe dÃ©jÃ  dans User.php
- âœ… MÃ©thodes getProfilePicture() et setProfilePicture() prÃ©sentes
- âœ… Base de donnÃ©es dÃ©jÃ  synchronisÃ©e (colonne profile_picture existe)
- âœ… Aucune migration nÃ©cessaire
- â° Temps gagnÃ© : 10 minutes !

**PHASE 3 : SERVICE DE GESTION PHOTOS (TERMINÃ‰E âœ…)**
- âœ… Service FileUploader.php existant analysÃ©
- âœ… FileUploader.php amÃ©liorÃ© avec redimensionnement (300x300 px)
- âœ… Compression optimisÃ©e ajoutÃ©e (JPEG 85%, PNG niveau 6)
- âœ… MÃ©thode delete() ajoutÃ©e (suppression ancienne photo)
- âœ… Support multi-formats (JPG, PNG, GIF)
- âœ… PrÃ©servation transparence PNG/GIF

**PHASE 4 : FORMULAIRE D'UPLOAD (TERMINÃ‰E âœ…)**
- âœ… ProfileEditType.php dÃ©jÃ  complet (champ profilePictureFile existe)
- âœ… Validation 2 Mo maximum, formats JPG/PNG/JPEG acceptÃ©s
- âœ… ProfileController.php amÃ©liorÃ© (suppression ancienne photo)
- âœ… Message de succÃ¨s avec emoji âœ…
- âœ… RÃ©trocompatible Ã  100%

**PHASE 5 : AFFICHAGE PHOTOS INTERFACE (EN COURS ğŸ”„)**
- âœ… Extension Twig `ProfilePictureExtension.php` crÃ©Ã©e
  - Fonction profile_picture(user) : retourne URL photo ou null
  - Fonction user_initials(user) : retourne initiales (fallback)
- âœ… Nettoyage fichiers doublons (ProfilePictureService, ProfilePictureType)
- ğŸ”„ Modification base.html.twig navbar (en cours)
- â³ Modification templates projets (Ã  faire)
- â³ Tests complets (Ã  faire)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š PROGRESSION SESSION 20
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ PHASES COMPLÃ‰TÃ‰ES : 4/7 (57%)
â° TEMPS Ã‰COULÃ‰ : ~1h30
ğŸ“ˆ AVANCEMENT GLOBAL : 80% (phases simples dÃ©jÃ  faites)

PHASES RESTANTES (20 min estimÃ©es) :
- [ ] Phase 5 : Finaliser affichage photos dans templates (10 min)
- [ ] Phase 6 : Tests complets (5 min)
- [ ] Phase 7 : Git commit final (5 min)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”— LIENS IMPORTANTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¤– Agent IA Permanent MIDDO :
https://www.genspark.ai/agents?id=82bbfc58-037d-4710-9b89-feb17fa34f87

ğŸ“š Documentation MÃ©moire :
https://www.genspark.ai/doc_agent?id=82bbfc58-037d-4710-9b89-feb17fa34f87

ğŸ“„ MÃ©mo SESSION 19 Complet :
https://www.genspark.ai/api/files/s/cijF4mBX

ğŸ“„ Documentation HTML (rÃ¨gles travail) :
https://www.genspark.ai/api/files/s/xveQAV94

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‚ FICHIERS MODIFIÃ‰S SESSION 20 (15 NOV)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… FICHIERS AMÃ‰LIORÃ‰S :
1. src/Service/FileUploader.php
   - Ajout redimensionnement automatique (300x300 px)
   - Ajout compression optimisÃ©e (JPEG 85%, PNG niveau 6)
   - Ajout mÃ©thode delete() pour supprimer anciennes photos
   - Support multi-formats (JPG, PNG, GIF)
   - PrÃ©servation transparence PNG/GIF

2. src/Controller/ProfileController.php
   - Ajout suppression ancienne photo avant upload
   - Message de succÃ¨s amÃ©liorÃ© avec emoji âœ…

3. src/Twig/ProfilePictureExtension.php (NOUVEAU)
   - Fonction profile_picture(user) : retourne URL photo
   - Fonction user_initials(user) : retourne initiales

4. templates/base.html.twig (EN COURS)
   - Navbar avec affichage photos (Ã  finaliser)

âœ… FICHIERS SUPPRIMÃ‰S (nettoyage) :
- src/Service/ProfilePictureService.php (doublon de FileUploader)
- src/Form/ProfilePictureType.php (doublon, on utilise ProfileEditType)

âœ… FICHIERS ANALYSÃ‰S (dÃ©jÃ  corrects) :
- src/Entity/User.php (champ profilePicture dÃ©jÃ  prÃ©sent)
- src/Form/ProfileEditType.php (champ upload dÃ©jÃ  prÃ©sent)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ PLAN POUR TERMINER SESSION 20 (20 MIN)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

**PHASE 5 : FINALISER AFFICHAGE PHOTOS (10 MIN)**

Ã‰tape 1 : Modifier base.html.twig (navbar)
- Remplacer icÃ´ne person-circle par photo ronde
- Fallback initiales si pas de photo
- Style professionnel (bordure blanche, ombre)

Ã‰tape 2 : Lister templates projets
- Commande : Get-ChildItem -Path templates\project -Filter *.twig -Recurse
- Identifier les templates qui affichent les crÃ©ateurs

Ã‰tape 3 : Modifier templates projets
- Afficher photo du crÃ©ateur dans les cartes projets
- Fallback initiales si pas de photo

**PHASE 6 : TESTS COMPLETS (5 MIN)**

1. DÃ©marrer serveur : php -S localhost:8000 -t public
2. Se connecter : test.projet@middo.local / Test1234!
3. Aller sur profil : /profile/edit
4. Uploader une photo de test
5. VÃ©rifier affichage dans navbar
6. VÃ©rifier affichage dans projets
7. Changer la photo (vÃ©rifier suppression ancienne)

**PHASE 7 : GIT COMMIT FINAL (5 MIN)**

```bash
git add .
git commit -m "SESSION 20 COMPLÃˆTE - SystÃ¨me photos de profil : upload, redimensionnement, affichage navbar et projets"