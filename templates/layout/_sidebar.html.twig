{% set current_route = app.request.attributes.get('_route') %}

<aside class="d-flex flex-column"
       style="width: 240px; background: #050816; color: #f9fafb;">

    <div class="px-3 py-3 border-bottom border-secondary d-flex align-items-center justify-content-between">
        <div>
            <div class="fw-bold">MIDDO</div>
            <div class="small text-muted">Plateforme collaborative</div>
        </div>
        <div class="text-end">
            <div class="small">Baudouin</div>
            <div class="small text-success">â— En ligne</div>
        </div>
    </div>

    <nav class="flex-grow-1 py-3">
        <ul class="nav flex-column small">

            <li class="nav-item">
                <a href="{{ path('dashboard_view') }}"
                   class="nav-link d-flex align-items-center px-3 py-2 {{ current_route starts with 'dashboard_' ? 'active text-white' : 'text-muted' }}">
                    <span class="me-2">ğŸ </span>
                    <span>Accueil</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="{{ path('directory_index') }}"
                   class="nav-link d-flex align-items-center px-3 py-2 {{ current_route starts with 'directory_' ? 'active text-white' : 'text-muted' }}">
                    <span class="me-2">ğŸ‘¥</span>
                    <span>Annuaire</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="{{ path('bank_index') }}"
                   class="nav-link d-flex align-items-center px-3 py-2 {{ current_route starts with 'bank_' ? 'active text-white' : 'text-muted' }}">
                    <span class="me-2">ğŸ¦</span>
                    <span>Banque</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="{{ path('project_index') }}"
                   class="nav-link d-flex align-items-center px-3 py-2 {{ current_route starts with 'project_' ? 'active text-white' : 'text-muted' }}">
                    <span class="me-2">ğŸ“</span>
                    <span>Projets</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="{{ path('app_messages') }}"
                   class="nav-link d-flex align-items-center px-3 py-2 {{ current_route starts with 'messages_' ? 'active text-white' : 'text-muted' }}">
                    <span class="me-2">ğŸ’¬</span>
                    <span>Messages</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="{{ path('visio_index') }}"
                   class="nav-link d-flex align-items-center px-3 py-2 {{ current_route starts with 'visio_' ? 'active text-white' : 'text-muted' }}">
                    <span class="me-2">ğŸ¥</span>
                    <span>Visio</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="{{ path('analytics_index') }}"
                   class="nav-link d-flex align-items-center px-3 py-2 {{ current_route starts with 'analytics_' ? 'active text-white' : 'text-muted' }}">
                    <span class="me-2">ğŸ“Š</span>
                    <span>Analytics</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="{{ path('workspace_index') }}"
                   class="nav-link d-flex align-items-center px-3 py-2 {{ current_route starts with 'workspace_' ? 'active text-white' : 'text-muted' }}">
                    <span class="me-2">ğŸ§©</span>
                    <span>Espace de travail</span>
                </a>
            </li>

            <li class="nav-item mt-2 border-top border-secondary pt-2">
                <a href="{{ path('settings_index') }}"
                   class="nav-link d-flex align-items-center px-3 py-2 {{ current_route starts with 'settings_' ? 'active text-white' : 'text-muted' }}">
                    <span class="me-2">âš™ï¸</span>
                    <span>ParamÃ¨tres</span>
                </a>
            </li>
        </ul>
    </nav>

    <div class="px-3 py-3 border-top border-secondary small text-muted">
        MIDDO Â· v0.1 Â· Session 58
    </div>
</aside>
